- defaults:
    link:
        relink: true
    shell:
        quiet: true

- link:
    # btrbk
    /etc/btrbk/btrbk.conf: btrbk/btrbk.conf
    # network-manager-dispatcher
    /etc/NetworkManager/dispatcher.d/99-update-genmon-network.sh: update-genmon-network.sh
    # pacman
    /etc/pacman.conf: pacman/pacman.conf
    # throttled
    /etc/lenovo_fix.conf: throttled.conf
    # zshenv
    /root/.zshenv: zsh/env

- shell:
    -
        command: localectl set-x11-keymap "" "" "" caps:none
        description: Disabling CapsLock globally using localectl
    -
        command: if [ ! -d /root/.config/zsh/ ]; then ln -s $ZDOTDIR /root/.config/; fi
        description: Creating link /root/.config/zsh/ -> $ZDOTDIR
    -
        command: if [ ! -d /root/.config/nvim ]; then ln -s /home/spike/.config/nvim /root/.config/; fi
        description: Creating link /root/.config/nvim -> $XDG_CONFIG_HOME/nvim
    -
        command: cp /home/spike/.config/dotfiles/lightdm-mini-greeter.conf /etc/lightdm/
        description: Copying /etc/lightdm/lightdm-mini-greeter.conf -> $DOTFILES/root/lightdm-mini-greeter.conf
    -
        command: chown root:root /etc/NetworkManager/dispatcher.d/99-update-genmon-network.sh; chmod 755 /etc/NetworkManager/dispatcher.d/99-update-genmon-network.sh
        description: Changing ownership and permissions for NetworkManager-dispatcher script
    -
        command: systemctl enable --now NetworkManager-dispatcher.service
        description: Enabling and starting `NetworkManager-dispatcher` service
